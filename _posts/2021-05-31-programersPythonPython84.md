---
title: 주차 요금 계산
layout: post
post-image: 'https://ifh.cc/g/paXC3t.jpg'
description: 프로그래머스의 알고리즘 문제 "주차 요금 계산" 문제풀이입니다.
tags:
- 알고리즘
- 프로그래머스
- Python
---


>**문제 설명**

주차장의 요금표와 차량이 들어오고(입차) 나간(출차) 기록이 주어졌을 때, 차량별로 주차 요금을 계산하려고 합니다. 아래는 하나의 예시를 나타냅니다.

<ul>
<li> 요금표 </li>
</ul>

| 기본 시간(분) | 기본 요금(원) | 단위 시간(분) | 단위 요금(원) |
|--|--|--|--|
| 180 | 5000 | 10 | 600 |

<ul>
<li> 입/출차 기록 </li>
</ul>

| 시각(시:분) | 차량 번호 | 내역 |
|--|--|--|
| 05:34 | 5961 | 입차 |
| 06:00 | 0000 | 입차 |
| 06:34 | 0000 | 출차 |
| 07:59 | 5961 | 출차 |
| 07:59 | 0148 | 입차 |
| 18:59 | 0000 | 입차 |
| 19:09 | 0148 | 출차 |
| 22:59 | 5961 | 입차 |
| 23:00 | 5961 | 출차 |

<ul>
<li> 자동차별 주차 요금 </li>
</ul>

| 차량 번호 | 누적 주차 시간(분) | 주차 요금(원) |
|--|--|--|
| 0000 | 34 + 300 = 334 | 5000 + ⌈(334 - 180) / 10⌉ x 600 = 14600 |
| 0148 | 670 | 5000 +⌈(670 - 180) / 10⌉x 600 = 34400 |
| 5961 | 145 + 1 = 146 | 5000 |

<ul>
<li>어떤 차량이 입차된 후에 출차된 내역이 없다면, 23:59에 출차된 것으로 간주합니다.

<ul>
<li> 0000 번 차량은 18:59에 입차된 이후, 출차된 내역이 없습니다. 따라서, 23:59에 출차된 것으로 간주합니다.</li>
</ul></li>
<li>00:00부터 23:59까지의 입/출차 내역을 바탕으로 차량별 누적 주차 시간을 계산하여 요금을 일괄로 정산합니다. </li>
<li>누적 주차 시간이  기본 시간 이하라면,  기본 요금 을 청구합니다.<br></li>
<li>누적 주차 시간이  기본 시간 을 초과하면,  기본 요금 에 더해서, 초과한 시간에 대해서  단위 시간  마다  단위 요금 을 청구합니다.

<ul>
<li>초과한 시간이  단위 시간 으로 나누어 떨어지지 않으면,  올림 합니다.<br></li>
<li> ⌈ a ⌉  : a보다 작지 않은 최소의 정수를 의미합니다. 즉,  올림 을 의미합니다.</li>
</ul></li>
</ul>

주차 요금을 나타내는 정수 배열 fees, 자동차의 입/출차 내역을 나타내는 문자열 배열 records가 매개변수로 주어집니다. 차량 번호가 작은 자동차부터 청구할 주차 요금을 차례대로 정수 배열에 담아서 return 하도록 solution 함수를 완성해주세요.


>**제한사항**

<ul>
<li><p> fees 의 길이 = 4</p>

<ul>
<li>fees[0] =  기본 시간(분) </li>
<li>1 ≤ fees[0] ≤ 1,439 </li>
<li>fees[1] =  기본 요금(원) </li>
<li>0 ≤ fees[1] ≤ 100,000</li>
<li>fees[2] =  단위 시간(분) </li>
<li>1 ≤ fees[2] ≤ 1,439</li>
<li>fees[3] =  단위 요금(원)  </li>
<li>1 ≤ fees[3] ≤ 10,000</li>
</ul></li>
<li><p>1 ≤  records 의 길이 ≤ 1,000</p>

<ul>
<li> records 의 각 원소는  "시각 차량번호 내역"  형식의 문자열입니다.</li>
<li> 시각 ,  차량번호 ,  내역 은 하나의 공백으로 구분되어 있습니다.</li>
<li> 시각 은 차량이 입차되거나 출차된 시각을 나타내며,  HH:MM  형식의 길이 5인 문자열입니다.

<ul>
<li> HH:MM 은 00:00부터 23:59까지 주어집니다.</li>
<li>잘못된 시각("25:22", "09:65" 등)은 입력으로 주어지지 않습니다.</li>
</ul></li>
<li> 차량번호 는 자동차를 구분하기 위한, `0'~'9'로 구성된 길이 4인 문자열입니다.<br></li>
<li> 내역 은 길이 2 또는 3인 문자열로,  IN  또는  OUT 입니다.  IN 은 입차를,  OUT 은 출차를 의미합니다. </li>
<li> records 의 원소들은 시각을 기준으로 오름차순으로 정렬되어 주어집니다.</li>
<li> records 는 하루 동안의 입/출차된 기록만 담고 있으며, 입차된 차량이 다음날 출차되는 경우는 입력으로 주어지지 않습니다.</li>
<li>같은 시각에, 같은 차량번호의 내역이 2번 이상 나타내지 않습니다.</li>
<li>마지막 시각(23:59)에 입차되는 경우는 입력으로 주어지지 않습니다.</li>
<li>아래의 예를 포함하여, 잘못된 입력은 주어지지 않습니다.

<ul>
<li>주차장에 없는 차량이 출차되는 경우</li>
<li>주차장에 이미 있는 차량(차량번호가 같은 차량)이 다시 입차되는 경우</li>
</ul></li>
</ul></li>
</ul>

>**입출력 예**

| fees | records | result |
|--|--|--|
| [180, 5000, 10, 600] | ["05:34 5961 IN", "06:00 0000 IN", "06:34 0000 OUT", "07:59 5961 OUT", "07:59 0148 IN", "18:59 0000 IN", "19:09 0148 OUT", "22:59 5961 IN", "23:00 5961 OUT"] | [14600, 34400, 5000] |
| [120, 0, 60, 591] | ["16:00 3961 IN","16:00 0202 IN","18:00 3961 OUT","18:00 0202 OUT","23:58 3961 IN"] | [0, 591] |
| [1, 461, 1, 10] | ["00:00 1234 IN"] |

>**입출력 예 설명**

입출력 예 #1

문제 예시와 같습니다.

입출력 예 #2

<ul>
<li> 요금표 </li>
</ul>

 기본 시간(분) | 기본 요금(원) | 단위 시간(분) | 단위 요금(원) |
|--|--|--|--|
| 120 | 0 | 60 | 591 |

<ul>
<li> 입/출차 기록 </li>
</ul>

| 시각(시:분) | 차량 번호 | 내역 |
|--|--|--|
| 16:00 | 3961 | 입차 |
| 16:00 | 0202 | 입차 |
| 18:00 | 3961 | 출차 |
| 18:00 | 0202 | 출차 |
| 23:58 | 3961 | 입차 |

<ul>
<li> 자동차별 주차 요금 </li>
</ul>

| 차량 번호 | 누적 주차 시간(분) | 주차 요금(원) |
|--|--|--|
| 0202 | 120 | 0 |
| 3961 | 120 + 1 = 121 | 0 +⌈(121 - 120) / 60⌉x 591 = 591 |

<ul>
<li> 3961 번 차량은 2번째 입차된 후에는 출차된 내역이 없으므로, 23:59에 출차되었다고 간주합니다. </li>
</ul>

입출력 예 #3

<ul>
<li> 요금표 </li>
</ul>

| 기본 시간(분) | 기본 요금(원) | 단위 시간(분) | 단위 요금(원) |
|--|--|--|--|
| 1 | 461 | 1 | 10 |

<ul>
<li> 입/출차 기록 </li>
</ul>

| 시각(시:분) | 차량 번호 | 내역 |
|--|--|--|
| 00:00 | 1234 | 입차 |

<ul>
<li> 자동차별 주차 요금 </li>
</ul>

| 차량 번호 | 누적 주차 시간(분) | 주차 요금(원) |
|--|--|--|
| 1234 | 1439 | 461 +⌈(1439 - 1) / 1⌉x 10 = 14841 |

<ul>
<li> 1234 번 차량은 출차 내역이 없으므로, 23:59에 출차되었다고 간주합니다.</li>
</ul>

>**제한시간 안내**

<ul>
<li>정확성 테스트 : 10초</li>
</ul>

>**문제 풀이**

	def min_time(start,end):
	  start = list(map(int,start.split(":")))
	  end = list(map(int,end.split(":")))
	  result = ((end[0] - start[0])*60) + (end[1]-start[1])
	  return result
	​
	def result(a,time):
	  b = (time-a[0]) / a[2]
	  if b > 0:
	    if b == int(b):return (b * a[-1]) + a[1]
	    return (((int(b)+1)) * a[-1]) + a[1]
	  return a[1]  
	​
	def div(start):return min_time(start,"23:59")
	​
	def solution(fees, records):
	  id_dic = {}
	  id_list = []
	  id_temp = {}
	  
	  for i in records:
	    sp = i.split()
	    
	    if sp[2] == "IN":
	      if not sp[1] in id_list:
	        id_list.append(sp[1])
	        id_dic[sp[1]] = ""
	        id_temp[sp[1]] = 0
	      id_dic[sp[1]] = sp[0]
	    
	    else:
	      id_temp[sp[1]] += min_time(id_dic[sp[1]],sp[0])
	      id_dic[sp[1]] = ""
	      
	  id_list.sort()
	  answer = [0] * len(id_list)
	  
	  for i in range(len(id_list)):  
	    if not id_dic[id_list[i]] == "":id_temp[id_list[i]] += div(id_dic[id_list[i]])
	    answer[i] = result(fees,id_temp[id_list[i]])
	  return answer







